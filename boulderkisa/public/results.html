<html>
    <head>
        <title>25th anniversary bouldrering competition by Tekiila</title>
    
        <link rel="stylesheet" href="styles.css">
        <script>
        
        const Http = new XMLHttpRequest();
        const url='/result_json';
        Http.open("GET", url);
        Http.send();

        Http.onreadystatechange = (e) => {

            var result = JSON.parse(Http.responseText);

            document.getElementById("results").innerHTML = ""
            html = "<table border='1'> ";
            html +="  <tr> <th>Rank</th>    <th>Climber</th>   <th>Score</th>   <th>Number of ascents</th>  </td>"

            // Loop through array and add table cells
            for (var i=0; i<result.length; i++) {
                html +="  <tr> "
                html += "<td>" + String(i+1)+ "</td>";
                html += "<td>" + result[i][0]+ "</td>";
                html += "<td>" + String(Number( parseFloat( result[i][1]).toFixed(2)))+ " </td>";
                html += "<td>" + result[i][2] + "</td>";
                html +=" </tr> "

                // Break into next row

            }
            html += "</tr></table>";


            document.getElementById("results").innerHTML = html

            


        }



        </script>
    </head>
    <body>


        
        <div >
            <h1>Boulder competition</h1>
        </div>

        <div class="navbar">
            <a class="active" href="/results">Results</a>
            <a href="/modify">Add or remove ascents</a>
            <a href="/signup">Sign Up</a>

            

            <a class="onRight" href="/logout">Log Out</a>
        </div>




        <div class="container row">
           <h1>Here are the results</h1>
           <div id="results">
                results go here
           </div>
        </div>
    </body>
</html>